---
title: "SF_climate"
author: "Yingfei Jiang"
date: "4/17/2019"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r}

library(tidyverse)
library(lubridate)

```

```{r}

SF_Climate_raw <- read_csv("SF Climate.csv")

SF_Climate <- SF_Climate_raw %>% 
  mutate(DATE_new = ymd(DATE)) %>% 
  mutate(YEAR = year(DATE_new)) %>% 
  mutate(MONTH = month(DATE_new)) %>% 
  mutate(YEARMONTH = floor_date(DATE_new, "year"))

```

```{r}

Tmax_plot <- ggplot(SF_Climate, aes(x = DATE_new, y = TMAX))+
  geom_line()

Tmax_plot

```

```{r}

Tmin_plot <- ggplot(SF_Climate, aes(x = DATE_new, y = TMIN))+
  geom_line()

Tmin_plot

```

```{r}

prcp_plot <- ggplot(SF_Climate, aes(x = DATE_new, y = PRCP))+
  geom_line()

prcp_plot

```

```{r}

SF_under32_raw <- SF_Climate %>% 
  select(YEARMONTH, TMIN) %>%
  filter(TMIN <= 32)

SF_under32 <- aggregate(TMIN ~ YEARMONTH, data = SF_under32_raw, length)

under32_plot <- ggplot(SF_under32, aes(x = YEARMONTH, y = TMIN))+
  geom_point()

under32_plot

```

```{r}

SF_hottest_raw <- SF_Climate %>% 
  filter(YEAR <= 2018) %>% 
  select(YEARMONTH, TMAX)

SF_hottest <- aggregate(TMAX ~ YEARMONTH, data = SF_hottest_raw, max)

hottest_plot <- ggplot(SF_hottest, aes(x = YEARMONTH, y = TMAX))+
  geom_point()

hottest_plot

```

```{r}

SF_coldest_raw <- SF_Climate %>% 
  filter(YEAR <= 2018) %>% 
  select(YEARMONTH, TMIN)

SF_coldest <- aggregate(TMIN ~ YEARMONTH, data = SF_coldest_raw, min)

coldest_plot <- ggplot(SF_coldest, aes(x = YEARMONTH, y = TMIN))+
  geom_point()

coldest_plot

```

```{r}
# sea level rise trends

searise = read_csv("sf_searise.csv")

searise_msl = searise %>% 
  select(Year, Month, Monthly_MSL) %>% 
  filter(Monthly_MSL != "NA")

searise_plot = ggplot(searise_msl, aes(x = Year, y = Monthly_MSL)) +
  geom_line() +
  theme_classic()

searise_plot


```




